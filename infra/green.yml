services:
  web:
    container_name: web-green
    networks:
      - whisnap-network
      - edge

  api:
    container_name: api-green
    networks:
      - whisnap-network
      - edge

  # Exclude nginx from blue-green deployment
  nginx:
    deploy:
      replicas: 0

networks:
  edge:
    external: true