# Simple Nginx config for maintenance page
server {
    listen 80;
    server_name whisnap.com www.whisnap.com;
    
    # Prevent search engine indexing
    add_header X-Robots-Tag "noindex, nofollow, noarchive, nosnippet" always;
    
    # Security headers
    add_header X-Frame-Options "DENY" always;
    add_header X-Content-Type-Options "nosniff" always;
    
    # Custom maintenance response
    location / {
        root /var/www/maintenance;
        index maintenance.html;
        try_files $uri $uri/ /maintenance.html;
        
        # Add cache control for maintenance page
        expires 1h;
        add_header Cache-Control "public, no-transform";
    }
    
    # Block common crawlers just in case
    location /robots.txt {
        return 200 "User-agent: *\nDisallow: /\n";
        add_header Content-Type text/plain;
    }
    
    # Return 503 Service Unavailable for API calls
    location /api {
        return 503 "Service temporarily unavailable";
        add_header Content-Type text/plain;
    }
    
    # Hide server version
    server_tokens off;
}